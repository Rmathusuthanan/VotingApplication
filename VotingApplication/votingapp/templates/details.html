
<h1>Vote details Page</h1>
<div class="container-fluid">
    <form name="userForm" ng-submit="submitForm()" novalidate>

        <!--Vote Key -->
        <div class="form-group" ng-class="{'has-error' : userForm.Id.$invalid && !userForm.Id.$pristine }">
            <div class="PanelField Left">
                <div style="display: inline;">
                    <label for="voteKey" class="Required"></label>
                </div>
                <div class="PanelFieldValue">
                    <input id="voteKey" type="text" name="voteKey" ng-hide="vm.party.voteKey" ng-required="true"
                           class=" text-box single-line" data-toggle="tooltip" title="Unique Key!" required>
                </div>
            </div>
            <p ng-show="userForm.Id.$invalid && !userForm.Id.$pristine" class="help-block">You Id is required</p>
        </div>
        <!--Vote Number -->

        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="voteNumber" for="No"> No:</label>
            </div>

            <div class="PanelFieldValue">

                <input id="Number" style="width:70px" type="text" name="Number" data-ng-model="vm.party.Number"
                       class=" text-box single-line" maxlength="12" placeholder="Enter Value"
                       uib-tooltip="Required"
                       tooltip-placement="top"
                       tooltip-trigger="'mouseenter'"
                       tooltip-enable="!vm.party.Number" />
                <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="Vote Number"></span>
            </div>
            <p ng-show="userForm.Number.$invalid && !userForm.Number.$pristine" class="help-block">No is required</p>
        </div>
        <!--Name -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="voteFor">Name:</label>
            </div>
            <div class="PanelFieldValue">
                <input id="Organization" type="text" name="Name" data-ng-model="vm.party.Name"
                       class=" text-box single-line" maxlength="20" placeholder="Enter Value"
                       uib-tooltip="Required"
                       tooltip-placement="top"
                       tooltip-trigger="'mouseenter'"
                       tooltip-enable="!vm.party.Name" ng-required="true" />
                <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="Vote For"></span>
            </div>
        </div>
        <!--Description-->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="description">Description:</label>
            </div>
            <div class="PanelFieldValue" style="width:400px">
                <textarea id="description" type="text" data-ng-model="vm.party.description" class="text-box single-line" style="width:370px" data-toggle="tooltip" title="Vote Description"></textarea>
                <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="Vote Description"></span>
            </div>
        </div>
        <!--Effective Date -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="effectiveDate">Effective Date:</label>
            </div>
            <div class="PanelFieldValue" style="width:200px">
                <div class="input-group" datetimepicker
                     data-ng-model="vm.party.effectiveDate" options="vm.options">
                    <input type="text" class="form-control" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>
        <!--Expiry Date -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="expiryDate">Expiry Date:</label>
            </div>
            <div class="PanelFieldValue" style="width:200px">
                <div class="input-group" datetimepicker
                     ng-model="vm.party.expiryDate" options="vm.options">
                    <input type="text" class="form-control" />
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>

        <!--Status -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="statusDetails">Status:</label>
            </div>
            <div class="PanelFieldValue" style="width:100px">
                <select ng-model="vm.status" ng-options="item as item.detail for item in vm.party.Statuses"></select>
            </div>
        </div>
        <!--Created by -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="createdByContactKey" class="Required">Created by</label>
            </div>
            <div class="PanelFieldValue">
                <span ng-bind="vm.party.createdBy" ng-readonly="true"></span>
                <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="Creater"></span>
            </div>
        </div>
        <!--Created On -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="createdOn">Created On: </label>
            </div>
            <div class="PanelFieldValue">
                <label> {{vm.party.createdOn | date:"MM/dd/yyyy h:mma"}}</lable>
            </div>
        </div>
        <!--Update by -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="lastUpdateByContactKey">Update by: </label>
            </div>
            <div class="PanelFieldValue">
                <span data-ng-bind="vm.party.lastUpdateBy"></span>
                <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="Last Update"></span>
            </div>
        </div>
        <!--Updated On -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="lastUpdated">Update on </label>
            </div>
            <div class="PanelFieldValue" style="width:200px">
                <label> {{vm.party.lastUpdated | date:"MM/dd/yyyy h:mma"}}</lable>
            </div>
        </div>

        <!--Manager Content Key -->
        <div class="PanelField Left">
            <div style="display: inline;">
                <label for="managerContactKey"></label>
            </div>
            <div class="PanelFieldValue">
                <span ng-hide="vm.party.managerContactKey"></span>
            </div>
        </div>


        <!--Voter Details and Voter Choices-->
        <div class="row">
            <div class="col-md-12">
                <uib-tabset active="activeChoices" choices="true">
                    <uib-tab index="0" heading="Voters List">
                        <div class="text-right">
                            <button type="button" class="btn btn-primary btn" ng-click="vm.addvoter()"><i class="glyphicon glyphicon glyphicon-plus-sign"></i>Add</button>
                        </div>
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <td><b>ID</b></td>
                                    <td><b>Name</b></td>
                                    <td><b>Delete</b></td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="votersdata in vm.party.voters ">
                                    <td>{{votersdata.Id}}</td>
                                    <td>{{votersdata.Name}}</td>
                                    <td>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default btn" ng-click="vm.removevoter(votersdata.Id);"><i class="glyphicon glyphicon-trash"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </uib-tab>
                    <uib-tab index="1" heading="Choices">
                        <div class="text-right">
                            <button type="button" class="btn btn-primary btn" ng-click="vm.addChoice()"><i class="glyphicon glyphicon glyphicon-plus-sign"></i>Add</button>
                        </div>
                        <table class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <td><b>ID</b></td>
                                    <td><b>voter Choice</b></td>
                                    <td>Action</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="voterschoice in  vm.party.voterChoice">
                                    <td>{{voterschoice.Id}}</td>
                                    <td>{{voterschoice.option}}</td>
                                    <td>
                                        <div class="btn-group">
                                            <button type="button" class="btn btn-default btn" ng-click="vm.edit($index);"><i class="glyphicon glyphicon-pencil"></i></button>
                                            <button type="button" class="btn btn-default btn" ng-click="vm.removeRow(voterschoice.Id);"><i class="glyphicon glyphicon-trash"></i></button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </uib-tab>
                </uib-tabset>
            </div>
        </div>
        <br />
        <hr />
        <div class="panel-footer">
            <a class="btn btn-default"
               ui-sref="listsVotes"
               style="width:80px">
                < Back
            </a>
            <input type="hidden" class="ng-valid"> <button type="button" ng-disabled="userForm.$invalid" class="btn btn-primary btn" ng-click="vm.SaveParty()"><i class="glyphicon glyphicon glyphicon-ok-circle"></i>Save</button>
        </div>
    </form>
</div>

